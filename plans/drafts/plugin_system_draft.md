# Asky Plugin Architecture

I want to introduce a plugin or extension system, and I also want to maybe move some of the capabilities to that extension plugin system. I'm not sure, like some of the existing features, maybe due to their nature, should be part of the core application, and I am notâ€”I don't want to introduce too big a refactor into the extreme of writing from scratch territory right now. But I want to really have a good plugin system with good hooks in the right places because I want to add many more features to Asky, but I don't want to make this application a huge monster; it will be not easy to maintain, etc. So, like, normally AI-powered apps leverage the intelligence of the models for extending capabilities, like all skills, MCP features, etc. But my aim, my goal is really always local-first, privacy-focused, and extracting maximum value out of small local models. And that requires a very good, deterministic pipeline. And so I need to be able to attach to different parts of that pipeline. Also, keep everything efficient, otherwise, we could achieve similar capabilities with some workflow automation tool. I'm gonna give you a feature definition and what I'm expecting you to come up with a plan for a plugin architecture that would allow implementing that feature. Asky plugin, so you need to, of course, also create an implementation plan for the feature itself, but not for the current codebase, for the plugin system we are targeting. So we have a research pipeline, and normal web search also can do multiple turns, and this feature is about creating personas from real internet, real people that are available on the internet; these are famous, known people.

# Asky plugin: GUI Server

Right now, Asky only has a command-line interface, and it's not even a terminal interface in the full, real sense with widgets, etc. Everything is just ASCII, accepts commands, and prints output. Single turn. I mean, "turn" here means the user says something, and they get back some response. But we also have an XMPP daemon which exposes another channel, another interface, but it's still very similar to a command-line interface. It is textual, it's a bit richer. It can display pictures there, and loading attachments is also more convenient due to already existing XMPP clients. But in the end, we don't have a real graphical user interface, and that also should not be part of Asky. But I believe we should provide some building blocks to create user interfaces, mostly for configuration and data manipulation. Of course, once we have something in place, one can build anything with it, but aim for really basic building blocks. Asky widgets, I recall there are nice Python libraries that help with that. I don't remember their names, but at least one or two very mature and well-supported, maintained libraries exist, so I think a plugin that can leverage that into our current Asky daemon. Right now, it only serves XMPP, but it can, it doesn't need to be limited to that. So, it can, it should be possible to add more servers to that daemon. Asky plugin, at some point, we can also convert current XMPP support to a plugin. Asky.

# Asky plugin: Puppeteer Browser

Currently, in Asky, we only have a basic Python-based request library to retrieve web content. Non-anonymous retrieval is completely out of the picture, and we are already sometimes getting forbidden errors for very simple NIPS articles. So this is a real requirement; a basic requirement, and one might say it should even be part of the core. But at this point, I'm already against enlarging the core of Asky. So we need to be able to load the Puppeteer plugin, Asky plugin, into the Asky core. And when it's enabled, it should allow creating profiles for websites. I mean, it can be for, like, it can be Asky simple, Asky simple, Asky user is supposed to open the Puppeteer browser and then log in to the website manually. And once logged in, expect Puppeteer browser to already have the credentials, cookies, etc., for that website. Then, Puppeteer browser will just crawl the website, let's say X or some news websites.

# Asky plugin: Automatic Persona Creator

Persona Creator is a focused research mode. It's a really long horizon pipeline that tries to crawl the internet and find out what a particular person shared online. In order to make this work, this crawler should support using a Puppeteer Browser to crawl social media, and news sites etc. that are normally not accessible anonymously (even with login credentials, many still not accessible to any user agent that is not a real browser due to fingerprinting, etc).

# Asky plugin: Manual Persona Creator

Maybe, at the first phase, it might be even more reasonable to have a manual persona creator. So, a user should be able to build a persona completely manually by just copy-pasting or uploading, importing articles, posts one by one, or just providing a folder full of books and PDFs, HTML files, text files, just like our current local corpus loading mechanism for per-session, but this time, it will be part of a persona. Probably, that would be a better starting point than depending on researching online. So, yeah, I think this can be one of the first plugins: manual persona creator.

# Asky plugin: Persona Manager & Chat

A persona is a bit like just changing the system prompt and a bit like also user prompt aliases, but it can also load some embedding data, vector data, which includes opinions, ideas, articles that are or blog posts, tweets, anything a person might say it publicly on the internet on the different subjects. So when we load a persona, we can then Asky that persona's opinion on a particular matter or a news article. So it's just an estimation of that person. So the model will try to infer, guess what that person probably would say on this matter, probably with references to the data we have in the database.

An ASCII persona, in the end, will probably be a zip file containing a system prompt, a user prompt, maybe more than one, and embedding the data to be imported into our vector database. So it should be possible to share it with others. Due to legal reasons, I don't want to dive into creating a hub myself for those sharing post-personas, but I think it will be nice to support a persona hub URL with some very simple API formats, JSON formats to load available personas and downloading, load, and importing.
